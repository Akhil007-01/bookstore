
creating a cluster using ssh key pair																									
open cmd where your key pair file is downloaded in local																							
CREATE AN SSH KEY																									
aws ec2 import-key-pair --key-name "YOUR_KEY_PAIR_NAME" --public-key-material file://~/.ssh/id_rsa.pub	

																								

To create a cluster using ssh key
eksctl create cluster --ssh-access --ssh-public-key=~/.ssh/id_rsa.pub --nodegroup-name=standard-workers --node-type=t3.medium --nodes=2 --nodes-min=1 --nodes-max=2

open cmd where you want to save files
and paste

git clone https://github.com/bibinwilson/kubernetes-prometheus

open cmd in the downloaded files
kubectl create namespace monitoring
kubectl create -f clusterRole.yaml
kubectl create -f config-map.yaml
kubectl create  -f prometheus-deployment.yaml 


check the created deployment using the following command.

kubectl get deployments --namespace=monitoring

Step 1: First, get the Prometheus pod name.

kubectl get pods --namespace=monitoring

The output will look like the following.

âžœ  kubectl get pods --namespace=monitoring
NAME                                     READY     STATUS    RESTARTS   AGE
prometheus-monitoring-3331088907-hm5n1   1/1       Running   0          5m


 Execute the following command with your pod name to access Prometheus from localhost port 8080.
 
 kubectl port-forward prometheus-monitoring-3331088907-hm5n1 8080:9090 -n monitoring
 
 Note: Replace prometheus-monitoring-3331088907-hm5n1 with your pod name.
 
  Now, if you access http://localhost:8080 on your browser, you will get the Prometheus home page.
  
  Deploy Grafana On Kubernetes
  
  kubectl create -f grafana-datasource-config.yaml
  kubectl create -f deployment.yaml
  kubectl create -f service.yaml
  
  
  open browser and copy your instance ip:32000 
  add ipv4 anywhere in inbound rules
  
  